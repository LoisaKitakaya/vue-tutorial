(function(){"use strict";var e={705:function(e,t,n){var o=n(963),l=n(252);const i={id:"app",class:"small-container"},a=(0,l._)("h1",null,"Employees",-1);function s(e,t,n,o,s,r){const m=(0,l.up)("EmployeeFormVue"),u=(0,l.up)("EmployeeTableVue");return(0,l.wg)(),(0,l.iD)("div",i,[a,(0,l.Wm)(m,{"onAdd:employee":r.addEmployee},null,8,["onAdd:employee"]),(0,l.Wm)(u,{employees:s.employees,"onDelete:employee":r.deleteEmployee,"onEdit:employee":r.editEmployee},null,8,["employees","onDelete:employee","onEdit:employee"])])}var r=n(577);const m=e=>((0,l.dD)("data-v-6ba90483"),e=e(),(0,l.Cn)(),e),u={id:"employee-table"},d={key:0,class:"empty-table"},c=m((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Employee name"),(0,l._)("th",null,"Employee email"),(0,l._)("th",null,"Actions")])],-1))),p={key:0},y=["onUpdate:modelValue"],h={key:1},f={key:2},b=["onUpdate:modelValue"],g={key:3},v={key:4},E=["onClick"],w=["onClick"],_={key:5},k=["onClick"],D=["onClick"];function C(e,t,n,i,a,s){return(0,l.wg)(),(0,l.iD)("div",u,[n.employees.length<1?((0,l.wg)(),(0,l.iD)("p",d,"No employees")):(0,l.kq)("",!0),(0,l._)("table",null,[c,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.employees,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[a.editing===t.id?((0,l.wg)(),(0,l.iD)("td",p,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e=>t.name=e},null,8,y),[[o.nr,t.name]])])):((0,l.wg)(),(0,l.iD)("td",h,(0,r.zw)(t.name),1)),a.editing===t.id?((0,l.wg)(),(0,l.iD)("td",f,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e=>t.email=e},null,8,b),[[o.nr,t.email]])])):((0,l.wg)(),(0,l.iD)("td",g,(0,r.zw)(t.email),1)),a.editing===t.id?((0,l.wg)(),(0,l.iD)("td",v,[(0,l._)("button",{onClick:e=>s.editEmployee(t)},"Save",8,E),(0,l._)("button",{class:"muted-button",onClick:e=>s.cancelEdit(t)},"Cancel",8,w)])):((0,l.wg)(),(0,l.iD)("td",_,[(0,l._)("button",{onClick:e=>s.editMode(t.id)},"Edit",8,k),(0,l._)("button",{onClick:n=>e.$emit("delete:employee",t.id)}," Delete ",8,D)]))])))),128))])])])}var S={name:"EmployeeTable",props:{employees:Array},data(){return{editing:null}},methods:{editMode(e){this.editing=e},editEmployee(e){""!==e.name&&""!==e.email&&(this.$emit("edit:employee",e.id,e),this.editing=null)},cancelEdit(e){Object.assign(e,this.cachedEmployee),this.editing=null}}},O=n(744);const j=(0,O.Z)(S,[["render",C],["__scopeId","data-v-6ba90483"]]);var T=j;const V=e=>((0,l.dD)("data-v-728e3f32"),e=e(),(0,l.Cn)(),e),U={id:"employee-form"},x=V((()=>(0,l._)("label",null,"Employee name",-1))),F=V((()=>(0,l._)("label",null,"Employee Email",-1))),$={key:0,class:"error-message"},A={key:1,class:"success-message"},N=V((()=>(0,l._)("button",null,"Add Employee",-1)));function P(e,t,n,i,a,s){return(0,l.wg)(),(0,l.iD)("div",U,[(0,l._)("form",{onSubmit:t[5]||(t[5]=(0,o.iM)(((...e)=>s.handleSubmit&&s.handleSubmit(...e)),["prevent"]))},[x,(0,l.wy)((0,l._)("input",{type:"text",class:(0,r.C_)({"has-error":a.submitting&&s.invalidName}),"onUpdate:modelValue":t[0]||(t[0]=e=>a.employee.name=e),onFocus:t[1]||(t[1]=(...e)=>s.clearStatus&&s.clearStatus(...e)),onKeypress:t[2]||(t[2]=(...e)=>s.clearStatus&&s.clearStatus(...e)),ref:"first"},null,34),[[o.nr,a.employee.name]]),F,(0,l.wy)((0,l._)("input",{type:"text",class:(0,r.C_)({"has-error":a.submitting&&s.invalidEmail}),"onUpdate:modelValue":t[3]||(t[3]=e=>a.employee.email=e),onFocus:t[4]||(t[4]=(...e)=>s.clearStatus&&s.clearStatus(...e))},null,34),[[o.nr,a.employee.email]]),a.error&&a.submitting?((0,l.wg)(),(0,l.iD)("p",$," ❗Please fill out all required fields ")):(0,l.kq)("",!0),a.success?((0,l.wg)(),(0,l.iD)("p",A," ✅ Employee successfully added ")):(0,l.kq)("",!0),N],32)])}var q={name:"EmployeeForm",data(){return{submitting:!1,error:!1,success:!1,employee:{name:"",email:""}}},methods:{handleSubmit(){this.clearStatus(),this.submitting=!0,this.invalidName||this.invalidEmail?this.error=!0:(this.$emit("add:employee",this.employee),this.employee={name:"",email:""},this.$refs.first.focus(),this.error=!1,this.success=!0,this.submitting=!1)},clearStatus(){this.success=!1,this.error=!1}},computed:{invalidName(){return""===this.employee.name},invalidEmail(){return""===this.employee.email}}};const M=(0,O.Z)(q,[["render",P],["__scopeId","data-v-728e3f32"]]);var Z=M,z={name:"App",components:{EmployeeTableVue:T,EmployeeFormVue:Z},data(){return{employees:[],url:"https://jsonplaceholder.typicode.com/users"}},methods:{async getEmployees(){try{const e=await fetch(this.url),t=await e.json();this.employees=t}catch(e){console.error(e)}},async addEmployee(e){try{const t=await fetch(this.url,{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}}),n=await t.json();this.employees=[...this.employees,n]}catch(t){console.error(t)}},async editEmployee(e,t){try{const n=await fetch(`${this.url}/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}),o=await n.json();this.employees=this.employees.map((t=>t.id===e?o:t))}catch(n){console.error(n)}},async deleteEmployee(e){try{await fetch(`${this.url}/${e}`,{method:"DELETE"}),this.employees=this.employees.filter((t=>t.id!==e))}catch(t){console.error(t)}}},mounted(){this.getEmployees()}};const I=(0,O.Z)(z,[["render",s]]);var J=I;(0,o.ri)(J).mount("#app")}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,l,i){if(!o){var a=1/0;for(u=0;u<e.length;u++){o=e[u][0],l=e[u][1],i=e[u][2];for(var s=!0,r=0;r<o.length;r++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[r])}))?o.splice(r--,1):(s=!1,i<a&&(a=i));if(s){e.splice(u--,1);var m=l();void 0!==m&&(t=m)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,l,i]}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var l,i,a=o[0],s=o[1],r=o[2],m=0;if(a.some((function(t){return 0!==e[t]}))){for(l in s)n.o(s,l)&&(n.m[l]=s[l]);if(r)var u=r(n)}for(t&&t(o);m<a.length;m++)i=a[m],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},o=self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(705)}));o=n.O(o)})();
//# sourceMappingURL=app.a8f30767.js.map